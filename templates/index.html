<!DOCTYPE html>
<html>
  <head>
    <title>catarsi-dipam</title>

    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1, maximum-scale=1">

    <link rel=stylesheet type=text/css href="{{ url_for('.static', filename='css/bootstrap.min.css') }}">
    <link rel=stylesheet type=text/css href="{{ url_for('.static', filename='css/index.css') }}">
    <link rel=stylesheet type=text/css href="{{ url_for('.static', filename='css/lightbox.css') }}">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/css/select2.min.css" rel="stylesheet"/>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">



    <!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>-->
    <script src="{{ url_for('.static', filename='js/jquery2-2-4.min.js') }}"></script>
    <script src="{{ url_for('.static', filename='js/bootstrap.min.js') }}"></script>
    <script src="{{ url_for('.static', filename='cytoscape/dist/cytoscape.min.js') }}"></script>
    <script src="{{ url_for('.static', filename='js/lodash.js') }}"></script>
    <script src="{{ url_for('.static', filename='js/lightbox.js') }}"></script>

  </head>

  <body>

      <div id="gui_top">

          <div class="corner-box"></div>

          <div id="diagram_editor">

            <div id="diagram_view" class="">
              <div id="diagram_undo_redo" class="comp">
                <!--<span class="nav-btn"><a id="undo_btn" >&#8404;</a></span>
                <span class="nav-btn"><a id="redo_btn" >&#8405;</a></span>-->
                <span class="nav-btn"><a id="undo_btn" >Undo</a></span>
                <span class="nav-btn"><a id="redo_btn" >Redo</a></span>
              </div>
              <div id="diagram_fit" class="comp"><a id="fit_btn" >&#10070; Fit diagram</a></div>
              <div id="diagram_zoom" class="comp">
                <span class="nav-btn"><a id="zoom_in_btn" >&#43;</a></span>
                <span class="nav-btn"><a id="zoom_out_btn" >&#8722;</a></span>
              </div>
            </div>

            <div id="general" class="">
            <span>
              <div id="diagram_elems" class="">
                <span class="comp"><button id="add_tool" type="button" class="btn btn-warning">Add Tool</button></span>
                <span class="comp"><button id="add_data" type="button" class="btn btn-info">Add Data</button></span>
              </div>
            </span>

            <span class="comp"><button id="btn_run_workflow" type="button" value="ready" class="btn btn-default">Run workflow</button></span>


            <button id="list_options_trigger" type="button" class="btn btn-default comp">
              <svg class="bi bi-three-dots" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" d="M3 9.5a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm5 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm5 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3z" clip-rule="evenodd"/>
              </svg>
            </button>
            <div id="list_options">
                    <button id="btn_save_workflow" type="button" value="save" class="btn btn-default">Save</button>
                    <a id="btn_save_workflow_a" href="/download/workflow" value="save" style="display:none;" target="_blank" download></a>
                    <button id="btn_load_workflow" type="button" value="load" class="btn btn-default">Open</button>
                    <input id="file_to_load" type="file" style="display: none;"/>
                    <button id="shutdown_btn" type="button" onclick="getElementById('shutdown_btn').click()" value="load" class="btn btn-default">Shutdown</button>
                    <a href="/shutdown" id="shutdown_btn" style="display: none;" ></a>
            </div>

          </div>

          </div>
      </div>

      <div id="gui_middle">
          <div id="control">
            <ul id="control_nav" class="nav control-nav">
              <li id="nav_overview" class="nav-btn"><a id="nav_overview_a">Overview</a></li>
              <li id="nav_info" class="nav-btn"><a id="nav_info_a">Info</a></li>
            </ul>
            <div id="control_body"></div>
          </div>
          <div id="cy"></div>
      </div>

    <div id="gui_bottom">
      <div id="workflow_timeline">
        <div id="timeline_container" class="timeline-container">
          <div id="start_block" class="timeline-block"></div>
          <!--<div id="timeline_text" class="timeline-block">Workflow timeline ...</div>-->
          <div id="end_block" class="timeline-block" style="visibility: hidden;"></div>
        </div>
      </div>
      <div id="workflow_extra">
      <div>
    </div>

    <!--config file-->
    <!--<script type="text/javascript" src="/src/js/config.json"></script>-->
    <!--the interface class to include-->
    <script src="{{ url_for('.static', filename='js/interface.js') }}"></script>
    <script src="{{ url_for('.static', filename='js/diagram.js') }}"></script>
    <!--cytoscape-->
    <script src="{{ url_for('.static', filename='js/cytoscape-edgehandles.js') }}"></script>
    <script src="{{ url_for('.static', filename='js/cytoscape-undo-redo.js') }}"></script>
    <!-- The main script and the configuration loader-->
    <!--<script src="{{ url_for('.static', filename='js/__remote__config_loader.js') }}"></script>-->
    <script>
    var config = "{{config}}";
    var workflow = "{{workflow}}";
    </script>
    <script src="{{ url_for('.static', filename='js/main.js') }}"></script>

  </body>

</html>
